(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{10:function(e,a,t){e.exports=t(18)},16:function(e,a,t){},17:function(e,a,t){},18:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(8),s=t.n(r),l=t(9),o=t(1),m=t.n(o),i=t(2),u=t(3),d=t(4),p=t(5),h=t(6);t(16);var v=function(e,a){return c.a.createElement("div",{className:"start-box"},c.a.createElement("h1",{className:"start-header"},"Hello, welcome to mafia game"),c.a.createElement("div",{className:"start-buttons"},c.a.createElement("button",{className:"start-game",onClick:e},"Start Game"),c.a.createElement("input",{type:"text",className:"text-gameId",placeholder:"write the id of game here"}),c.a.createElement("button",{className:"connect-to-game",onClick:a},"Connect to game")))};t(17);function g(e){var a=e.places,t=e.takePlace,n=e.userId,r=e.place,s=e.changeName;return a[r].id||n?a[r].id===n?c.a.createElement("div",{className:"box-player1"},c.a.createElement("div",{className:"player-name"},c.a.createElement("input",{type:"text",className:"text-name-area",placeholder:"write your name and push button >>>",autocomplete:"new-password"}),c.a.createElement("button",{className:"ready-button",onClick:s.bind(void 0,{place:r})}))):c.a.createElement("div",{className:"box-player1"},c.a.createElement("div",{className:"player-name"},c.a.createElement("div",{className:"other-player"},a[r].name),c.a.createElement("button",{className:"ready-button"}))):c.a.createElement("div",{className:"box-player1"},c.a.createElement("button",{className:"take-place",onClick:t.bind(void 0,{place:r})},"take place"))}var N=function(e){Object(h.a)(t,e);var a=Object(p.a)(t);function t(){return Object(u.a)(this,t),a.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){var e=this.props,a=e.gameId,t=e.takePlace,n=e.userId,r=e.places,s=e.changeName;return c.a.createElement("div",{className:"room"},c.a.createElement("div",{className:"room-box-chat"},c.a.createElement("div",{className:"taimer"},"Taimer"),c.a.createElement("div",{className:"chat"},c.a.createElement("div",{className:"cahts"},c.a.createElement("button",{className:"peace-chat"},"Peace Chat"),c.a.createElement("button",{className:"mafia-chat"},"Mafia Chat")),c.a.createElement("div",{className:"message-area"}),c.a.createElement("div",{className:"message"},c.a.createElement("input",{type:"text",className:"text-area"}),c.a.createElement("button",null,"Send")),c.a.createElement("div",{className:"role"},"Role"))),c.a.createElement("div",{className:"room-box-players"},c.a.createElement("div",{className:"room-id"},"Game id: ",a),c.a.createElement("div",{className:"players-box"},c.a.createElement("div",{className:"players"},c.a.createElement(g,{takePlace:t,userId:n,places:r,place:"player1",changeName:s}),c.a.createElement(g,{takePlace:t,userId:n,places:r,place:"player2",changeName:s}),c.a.createElement(g,{takePlace:t,userId:n,places:r,place:"player3",changeName:s}),c.a.createElement(g,{takePlace:t,userId:n,places:r,place:"player4",changeName:s})))))}}]),t}(n.Component),f={gameId:void 0,status:void 0,userId:void 0,places:{player1:{id:void 0,connectionStatus:!1,readinessStatus:!1,name:""},player2:{id:void 0,connectionStatus:!1,readinessStatus:!1,name:""},player3:{id:void 0,connectionStatus:!1,readinessStatus:!1,name:""},player4:{id:void 0,connectionStatus:!1,readinessStatus:!1,name:""}}},E=function(e){Object(h.a)(t,e);var a=Object(p.a)(t);function t(){var e;return Object(u.a)(this,t),(e=a.call(this)).startGame=Object(i.a)(m.a.mark((function a(){var t,n,c,r,s;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/api/game",{method:"POST"});case 2:return t=a.sent,a.next=5,t.json();case 5:n=a.sent,c=n.gameId,r=n.game,s=r._status,e.setState({gameId:c,status:s});case 10:case"end":return a.stop()}}),a)}))),e.connectToGame=Object(i.a)(m.a.mark((function a(){var t,n,c,r,s,l,o;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=document.querySelector(".text-gameId").value,a.next=3,fetch("/api/game/".concat(t),{method:"GET"});case 3:return n=a.sent,a.next=6,n.json();case 6:c=a.sent,r=c.game,s=c.gameId,l=r._status,o=r._places,e.setState({status:l,gameId:s,places:o});case 12:case"end":return a.stop()}}),a)}))),e.takePlace=function(){var a=Object(i.a)(m.a.mark((function a(t){var n,c,r,s,l;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/api/game/".concat(e.state.gameId,"/place"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=a.sent,a.next=5,n.json();case 5:c=a.sent,r=c.userId,s=c.game,l=s._places,e.setState({userId:r,places:l});case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),e.changeName=function(){var a=Object(i.a)(m.a.mark((function a(t){var n,c,r,s,l,o,i,u,d;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={newName:document.querySelector(".text-name-area").value,userId:e.state.userId},a.next=3,fetch("/api/game/".concat(e.state.gameId,"/userName"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 3:return c=a.sent,a.next=6,c.json();case 6:return r=a.sent,s=r.player,l={newName:s._name,player:t.place},a.next=11,fetch("/api/game/".concat(e.state.gameId,"/name"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});case 11:return o=a.sent,a.next=14,o.json();case 14:i=a.sent,u=i.game,d=u._places,e.setState({places:d});case 18:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),e.state=Object(l.a)({},f),e}return Object(d.a)(t,[{key:"render",value:function(){var e=this.state,a=e.gameId,t=e.userId,r=e.places,s=this.startGame,l=this.connectToGame,o=this.takePlace,m=this.changeName;return c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:"Wrraper"},c.a.createElement("div",{className:"content"},a?c.a.createElement(N,{takePlace:o,gameId:a,userId:t,places:r,changeName:m}):v(s,l)),console.log(this.state)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.898be959.chunk.js.map